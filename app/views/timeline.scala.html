@import java.time.format.DateTimeFormatter
@(sweatList: List[Sweat], sizeLimit: Int)

@main(Messages("application.name")) {
    @if(request.username != null) {
        <a href="@helper.CSRF(routes.UserController.logoutProcessing())">@Messages("users.logout", request.username)</a>
    }

    <div class="page-header">
        <h1>@Messages("sweats.timeline")</h1>
    </div>

    <form class="form" id="sweatform" method="post" action="@routes.SweatController.create()">
        <div class="form-group">
            <textarea id="sweatArea" maxlength="@sizeLimit" class="form-control" rows="3" style="resize : none"
            placeholser="@Messages("sweats.invitation", sizeLimit)"></textarea>
        </div>
        <button type="submit" class="btn btn-default">@Messages("sweats.button")</button>
    </form>
    <hr>
    <iframe style="display : none" id="sweatsIframe" src="@routes.SweatController.stream().unique()"></iframe>
    <div id="sweats" class="list-group">
    @for(sweat <- sweatList) {
        <a href="#" class="list-group-item">
            <h4 class="list-group-item-heading">@sweat.getOwner.getUsername</h4>
            <i class="list-group-item-heading">@DateTimeFormatter.ISO_LOCAL_DATE_TIME.format(sweat.getCreationTime)</i>
            <p clas="list-group-item-text">@sweat.getContent</p>
        </a>
    }
    </div>
}